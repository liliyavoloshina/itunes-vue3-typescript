import{c as e,d as a,a as s,b as t,t as r,e as c,w as n,p as l,f as i,o,r as m,g as u,u as d,h,v as p,i as v,F as f,j as y,k as b,l as w}from"./vendor.b3161029.js";const g=Symbol(),S=e({state:{searchResult:[]},mutations:{search(e,a){e.searchResult=a}},actions:{async search({commit:e},a){e("search",await(async e=>{try{const a=await fetch(`https://itunes.apple.com/search?term=${e}&entity=song&limit=10`,{headers:{"Access-Control-Allow-Origin":"*"}}),{results:s}=await a.json();return s}catch(a){throw new Error(a)}})(a))}}});var k=a({name:"SearchSong",props:{item:{type:Object,required:!0}},setup(e){}});const R=n();l("data-v-b4f87e50");const U={class:"item"},A={class:"image"},j={class:"info"},I={class:"artist-name"},N=t("span",{class:"label"},"Artist name:",-1),V=c(),_={class:"track-name"},D=t("span",{class:"label"},"Track name:",-1),M=c(),C={class:"collection-name"},G=t("span",{class:"label"},"Collection name:",-1),O=c(),q={class:"genre-name"},x=t("span",{class:"label"},"Genre name:",-1),E={class:"release-date"},F=t("span",{class:"label"},"Release date:",-1),L={class:"audio"},T={controls:"",preload:"none"};i();const $=R(((e,a,n,l,i,m)=>(o(),s("div",U,[t("div",A,[t("img",{src:e.item.artworkUrl100},null,8,["src"])]),t("div",j,[t("div",I,[N,V,t("a",{href:e.item.artistViewUrl},r(e.item.artistName),9,["href"])]),t("div",_,[D,M,t("a",{href:e.item.trackViewUrl},r(e.item.trackName),9,["href"])]),t("div",C,[G,O,t("a",{href:e.item.collectionViewUrl},r(e.item.collectionName),9,["href"])]),t("div",q,[x,c(" "+r(e.item.primaryGenreName),1)]),t("div",E,[F,c(" "+r(new Date(e.item.releaseDate).toDateString()),1)])]),t("div",L,[t("audio",T,[t("source",{src:e.item.previewUrl,type:"audio/mp4"},null,8,["src"])])])]))));k.render=$,k.__scopeId="data-v-b4f87e50";var z=a({name:"SearchMusic",components:{SearchItem:k},setup:()=>{const e=m(""),a=m(!1),s=d(g);return{searchResult:u((()=>s.state.searchResult)),search:async()=>{a.value=!0,await s.dispatch("search",e.value),a.value=!1},term:e,loading:a}}});const B=n();l("data-v-15223c26");const H={class:"search-input"},J=t("button",{class:"search-button"},"Search!",-1),K={key:0,class:"note"},P={key:1,class:"search-results"},Q={key:2,class:"note"};i();const W=B(((e,a,r,c,n,l)=>{const i=b("search-item");return o(),s(f,null,[t("form",{onSubmit:a[2]||(a[2]=v(((...a)=>e.search&&e.search(...a)),["prevent"])),class:"search-form"},[t("div",H,[h(t("input",{"onUpdate:modelValue":a[1]||(a[1]=a=>e.term=a),id:"term",type:"text",placeholder:"All Star...",class:"search"},null,512),[[p,e.term]])]),J],32),e.loading?(o(),s("div",K,"Loading...")):e.searchResult.length>0?(o(),s("div",P,[(o(!0),s(f,null,y(e.searchResult,(e=>(o(),s(i,{key:e.artistId,item:e},null,8,["item"])))),128))])):(o(),s("div",Q,"find your favorite song!"))],64)}));z.render=W,z.__scopeId="data-v-15223c26";var X=a({name:"App",components:{SearchMusic:z}});X.render=function(e,a,t,r,c,n){const l=b("SearchMusic");return o(),s(l)};const Y=w(X);Y.use(S,g),Y.mount("#app");
