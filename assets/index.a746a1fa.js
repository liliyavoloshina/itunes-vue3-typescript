import{c as e,d as a,a as s,b as t,e as r,t as i,f as l,g as c,F as n,w as m,p as o,h as d,o as u,r as p,u as h,i as v,v as y,j as b,k as f,l as k,m as w,n as g}from"./vendor.02939066.js";const S=Symbol(),U=e({state:{searchResult:[]},mutations:{search(e,a){e.searchResult=a}},actions:{async search({commit:e},a){e("search",await(async e=>{try{const a=await fetch(`https://itunes.apple.com/search?term=${e.term}&entity=${e.entity}&limit=10`,{headers:{"Access-Control-Allow-Origin":"*"}}),{results:s}=await a.json();return s}catch(a){throw new Error(a)}})(a))}}});var A=a({name:"SearchSong",props:{item:{type:Object,required:!0}},setup:e=>({kind:s((()=>{switch(e.item.wrapperType){case"track":return"track";case"artist":return"artist";case"collection":return"album"}}))})});const N=m();o("data-v-4fb87926");const R={key:0,class:"item"},V={class:"image"},D={class:"info"},G={class:"artist-name"},T=r("span",{class:"label"},"Artist name:",-1),P=l(),j={class:"track-name"},I=r("span",{class:"label"},"Track name:",-1),_=l(),C={class:"collection-name"},M=r("span",{class:"label"},"Collection name:",-1),L=l(),O={class:"genre-name"},$=r("span",{class:"label"},"Genre name:",-1),q={class:"release-date"},x=r("span",{class:"label"},"Release date:",-1),E={class:"audio"},F={controls:"",preload:"none"},z={key:1,class:"item"},B={class:"info"},H={class:"artist-name"},J=r("span",{class:"label"},"Artist name:",-1),K=l(),Q={class:"artist-type"},W=r("span",{class:"label"},"Artist type:",-1),X={class:"genre-name"},Y=r("span",{class:"label"},"Genre name:",-1),Z={key:2,class:"item"},ee={class:"image"},ae={class:"info"},se={class:"artist-name"},te=r("span",{class:"label"},"Artist name:",-1),re=l(),ie={class:"collection-name"},le=r("span",{class:"label"},"Collection name:",-1),ce=l(),ne={class:"genre-name"},me=r("span",{class:"label"},"Genre name:",-1),oe={class:"release-date"},de=r("span",{class:"label"},"Release date:",-1),ue={class:"audio"},pe={controls:"",preload:"none"};d();const he=N(((e,a,s,m,o,d)=>(u(),t(n,null,["track"===e.kind?(u(),t("div",R,[r("div",V,[r("img",{src:e.item.artworkUrl100},null,8,["src"])]),r("div",D,[r("div",G,[T,P,r("a",{href:e.item.artistViewUrl},i(e.item.artistName),9,["href"])]),r("div",j,[I,_,r("a",{href:e.item.trackViewUrl},i(e.item.trackName),9,["href"])]),r("div",C,[M,L,r("a",{href:e.item.collectionViewUrl},i(e.item.collectionName),9,["href"])]),r("div",O,[$,l(" "+i(e.item.primaryGenreName),1)]),r("div",q,[x,l(" "+i(new Date(e.item.releaseDate).toDateString()),1)])]),r("div",E,[r("audio",F,[r("source",{src:e.item.previewUrl,type:"audio/mp4"},null,8,["src"])])])])):c("",!0),"artist"===e.kind?(u(),t("div",z,[r("div",B,[r("div",H,[J,K,r("a",{href:e.item.artistLinkUrl},i(e.item.artistName),9,["href"])]),r("div",Q,[W,l(" "+i(e.item.artistType),1)]),r("div",X,[Y,l(" "+i(e.item.primaryGenreName),1)])])])):c("",!0),"album"===e.kind?(u(),t("div",Z,[r("div",ee,[r("img",{src:e.item.artworkUrl100},null,8,["src"])]),r("div",ae,[r("div",se,[te,re,r("a",{href:e.item.artistViewUrl},i(e.item.artistName),9,["href"])]),r("div",ie,[le,ce,r("a",{href:e.item.collectionViewUrl},i(e.item.collectionName),9,["href"])]),r("div",ne,[me,l(" "+i(e.item.primaryGenreName),1)]),r("div",oe,[de,l(" "+i(new Date(e.item.releaseDate).toDateString()),1)])]),r("div",ue,[r("audio",pe,[r("source",{src:e.item.previewUrl,type:"audio/mp4"},null,8,["src"])])])])):c("",!0)],64))));A.render=he,A.__scopeId="data-v-4fb87926";var ve=a({name:"SearchMusic",components:{SearchItem:A},setup:()=>{const e=p({term:"",entity:"musicTrack"}),a=p(!1),t=h(S);return{searchResult:s((()=>t.state.searchResult)),search:async()=>{a.value=!0,await t.dispatch("search",e.value),a.value=!1},searchParams:e,loading:a}}});const ye=m();o("data-v-0e3d8d07");const be={class:"search-input"},fe={class:"search-input"},ke=r("option",{value:"musicTrack"},"Track",-1),we=r("option",{value:"musicArtist"},"Artist",-1),ge=r("option",{value:"album"},"Album",-1),Se=r("button",{class:"search-button"},"Search!",-1),Ue={key:0,class:"note"},Ae={key:1,class:"search-results"},Ne={key:2,class:"note"};d();const Re=ye(((e,a,s,i,l,c)=>{const m=w("search-item");return u(),t(n,null,[r("form",{onSubmit:a[3]||(a[3]=f(((...a)=>e.search&&e.search(...a)),["prevent"])),class:"search-form"},[r("div",be,[v(r("input",{"onUpdate:modelValue":a[1]||(a[1]=a=>e.searchParams.term=a),id:"term",type:"text",placeholder:"All Star...",class:"search"},null,512),[[y,e.searchParams.term]])]),r("div",fe,[v(r("select",{"onUpdate:modelValue":a[2]||(a[2]=a=>e.searchParams.entity=a),name:"entity",id:"entity"},[ke,we,ge],512),[[b,e.searchParams.entity]])]),Se],32),e.loading?(u(),t("div",Ue,"Loading...")):e.searchResult.length>0?(u(),t("div",Ae,[(u(!0),t(n,null,k(e.searchResult,(e=>(u(),t(m,{key:e.artistId,item:e},null,8,["item"])))),128))])):(u(),t("div",Ne,"find your favorite song/artist/album!"))],64)}));ve.render=Re,ve.__scopeId="data-v-0e3d8d07";var Ve=a({name:"App",components:{SearchMusic:ve}});Ve.render=function(e,a,s,r,i,l){const c=w("SearchMusic");return u(),t(c)};const De=g(Ve);De.use(U,S),De.mount("#app");
